<div class="row form-group">
  <div class="col-md-5 mx-auto text-center">
    <h3 class="text-primary"><%= @test.title %></h3>
    <p class="text-muted"><%= @test.description %></p>
    <div class="form-group">
      <p>Ngày mở đề: <%= l @test.start_time, format: :default %></p>
      <p>Hạn nộp bài: <%= l @test.due_time, format: :default %></p>
    </div>
    <div class="form-group">
      <p>Thời gian làm bài: <%= (@task.ended_at - @task.started_at).to_i *60 %> phút</p>
    </div>
    <div class="flex-row align-item-center">
      <div class="text-bold">Điểm của bạn: <span class="text-danger"><%= @task.student_score %></span></div>
    </div>
  </div>
</div>
<div class="border-bottom border-sidebar my-4"></div>
<div class="form-group padding-ys">
  <% unless @task.count_multiple_choice.eql? 0 %>
    <h3 class="text-mute">Phần 1: Trắc nghiệm (<%= @task.count_multiple_choice %> câu)
      <span class="text-success border border-radius p-1"><%= @task.auto_mark %> điểm</span>
    </h3>
    <%= render partial: "students/tasks/show_multiple_choice", collection: @task.answers, as: :question %>
  <% end %>

  <% unless @task.count_essay.eql? 0 %>
    <h3 class="text-mute">Phần 2: Tự luận (<%= @task.count_essay %> câu)</h3>
    <%= render partial: "students/tasks/show_essay_question", collection: @task.answers, as: :question %>
  <% end %>

  <div class="form-group">
    <label>Nhận xét của giáo viên:</label>
    <p class="border border-warning p-2">
      <%= @task.teacher_comment%>
    </p>
  </div>
</div>
<script>
  $(function() {
    setupQuestion();
  })

  function setupQuestion() {
    $('.question-title').each(function(index) {
      $(this).html(`Câu ${index+1}`);
      question_id = $(this).closest('.form-group').attr('id')
    })
  }
</script>
